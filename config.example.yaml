# Pyrite Configuration
# Copy to ~/.pyrite/config.yaml and customize

version: "1.0"

# =============================================================================
# Repositories
# =============================================================================
# Repositories can contain multiple KBs. This is useful for projects where
# timeline data, research notes, and analysis live in the same git repo.

repositories:
  # Example: Research project repo containing multiple KBs
  - name: my-project
    path: ~/my-project
    remote: git@github.com:your-org/my-project.git
    branch: main
    auto_sync: true
    auth_method: ssh  # none, ssh, github_oauth, token
    kb_paths:
      - timeline/events
      - research-kb
      - analysis-kb

  # Example: Private research repo requiring GitHub OAuth
  - name: private-research
    path: ~/.pyrite/repos/private-research
    remote: https://github.com/your-org/private-research.git
    auth_method: github_oauth

# =============================================================================
# Knowledge Bases
# =============================================================================
# KBs can be standalone or part of a repository.
# Use 'repo' field to reference a parent repository.

knowledge_bases:
  # Standalone KB (not part of a repo)
  - name: timeline
    path: ~/my-project/timeline/events
    kb_type: events
    description: "Project timeline events"
    read_only: false

  # KB within a repository
  - name: research-kb
    path: ~/my-project/research-kb
    kb_type: research
    description: "Research knowledge base"
    repo: my-project  # References repository above
    repo_subpath: research-kb  # Path relative to repo root

  # Another KB in the same repo
  - name: analysis
    path: ~/my-project/analysis-kb
    kb_type: generic
    description: "Analysis and notes"
    repo: my-project
    repo_subpath: analysis-kb

# =============================================================================
# Subscriptions
# =============================================================================
# Subscribe to remote KBs that will be cloned and auto-synced.

subscriptions: []
  # Example: Subscribe to a public KB
  # - url: https://github.com/some-org/public-kb.git
  #   local_path: ~/.pyrite/subscribed/public-kb
  #   auto_sync: true
  #   sync_interval: 3600  # seconds

  # Example: Subscribe to a private KB (requires github_oauth)
  # - url: https://github.com/your-org/private-kb.git
  #   local_path: ~/.pyrite/subscribed/private-kb
  #   repo: private-research

# =============================================================================
# Settings
# =============================================================================

settings:
  # Editor for opening files
  default_editor: $EDITOR

  # AI provider: anthropic, openai, local, stub, none
  ai_provider: stub

  # Model for AI operations
  ai_model: claude-sonnet-4-20250514

  # Max length for auto-generated summaries
  summary_length: 280

  # Enable MCP server
  enable_mcp: true

  # Global index database path
  index_path: ~/.pyrite/index.db

  # Web server settings
  host: 127.0.0.1
  port: 8088

# =============================================================================
# GitHub Authentication
# =============================================================================
# GitHub OAuth credentials are stored separately in ~/.pyrite/github_auth.yaml
# for security. Run 'pyrite auth github-setup' to configure.
#
# Supported auth methods for repositories:
# - none: Public repos only
# - ssh: Use SSH keys (~/.ssh/id_rsa or ssh-agent)
# - github_oauth: Use OAuth token (configured via github_auth.yaml)
# - token: Use personal access token (set GITHUB_TOKEN env var)
